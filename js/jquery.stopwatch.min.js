!function(a){function b(a,b){return function(){return a+=b}}function c(a){return(10>a?"0":"")+a}function d(a){var b,d,e,f;return b=a/1e3,d=Math.floor(b%60),b/=60,e=Math.floor(b%60),b/=60,f=Math.floor(b%24),[c(f),c(e),c(d)].join(":")}function e(a,b){var c;return c="function"==typeof jintervals?function(a,b){return jintervals(a/1e3,b.format)}:d,e=function(a,b){return c(a,b)},e(a,b)}var f={init:function(c){var d={updateInterval:1e3,startTime:0,format:"{HH}:{MM}:{SS}",formatter:e};return this.each(function(){var e=a(this),f=e.data("stopwatch");if(!f){var g=a.extend({},d,c);f=g,f.active=!1,f.target=e,f.elapsed=g.startTime,f.incrementer=b(f.startTime,f.updateInterval),f.tick_function=function(){var a=f.incrementer();f.elapsed=a,f.target.trigger("tick.stopwatch",[a]),f.target.stopwatch("render")},e.data("stopwatch",f)}})},start:function(){return this.each(function(){var b=a(this),c=b.data("stopwatch");c.active=!0,c.timerID=setInterval(c.tick_function,c.updateInterval),b.data("stopwatch",c)})},stop:function(){return this.each(function(){var b=a(this),c=b.data("stopwatch");clearInterval(c.timerID),c.active=!1,b.data("stopwatch",c)})},destroy:function(){return this.each(function(){var b=a(this);b.data("stopwatch"),b.stopwatch("stop").unbind(".stopwatch").removeData("stopwatch")})},render:function(){var b=a(this),c=b.data("stopwatch");b.html(c.formatter(c.elapsed,c))},getTime:function(){var b=a(this),c=b.data("stopwatch");return c.elapsed},toggle:function(){return this.each(function(){var b=a(this),c=b.data("stopwatch");c.active?b.stopwatch("stop"):b.stopwatch("start")})},reset:function(){return this.each(function(){var c=a(this);data=c.data("stopwatch"),data.incrementer=b(data.startTime,data.updateInterval),data.elapsed=data.startTime,c.data("stopwatch",data)})}};a.fn.stopwatch=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.stopwatch"),void 0):f.init.apply(this,arguments)}}(jQuery);